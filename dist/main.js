(()=>{"use strict";!function(){function e(e){e.target.closest(".apple-tv-card").classList.add("hover"),t(e)}function t(e){let t=e.target.closest(".apple-tv-card");const a=window.matchMedia("(prefers-reduced-motion: reduce)");if(!t.querySelector(".reflection")&&a&&!a.matches){const e=document.createElement("span");e.classList.add("reflection"),t.prepend(e)}let s,r;if("touchmove"===e.type||"touchstart"===e.type){const a=e.touches[0],c=t.getBoundingClientRect();s=a.pageX-c.left,r=a.pageY-c.top;const o=document.elementFromPoint(a.pageX,a.pageY);if(!o||t!==o.closest(".apple-tv-card"))return void n(e)}else s=e.offsetX,r=e.offsetY;const c=t.clientWidth,o=t.clientHeight,l=(c/2-s)/c*10,i=-1*(o/2-r)/o*10,d=-1*(c/2-s)/c*10,p=-1*(o/2-r)/o*10,u=Math.max(c,o),m=t.closest(".apple-tv-card-container");m&&(m.style.perspective=2.5*u+"px"),a&&!a.matches&&(t.style.transform="translateZ(4rem) rotateY("+l+"deg) rotateX("+i+"deg) translateX("+d+"px) translateY("+p+"px)");const f=t.querySelector(".parallax-content");f&&a&&!a.matches&&(f.style.transform="translateX("+-.65*d+"px) translateY("+-.65*p+"px)");const h=t.querySelector(".reflection");h&&a&&!a.matches&&(h.style.width=1.5*u+"px",h.style.height=1.5*u+"px",h.style.margin=-.75*u+"px 0 0 "+-.75*u+"px",h.style.transform="translateY("+(r-o/2)+"px) translateX("+(.1*c+.8*s)+"px)")}function n(e){let t=e.target.closest(".apple-tv-card");t.classList.remove("hover"),t.style.transform=null;const n=t.querySelector(".parallax-content");n&&(n.style.transform=null);const a=t.querySelector(".reflection");a&&(a.style.transform=null)}document.querySelectorAll(".apple-tv-card").forEach((a=>{const s=a.closest(".apple-tv-card-container");s.querySelector(".apple-tv-card-title")||s.classList.add("no-title");const r=Math.max(a.clientWidth,a.clientHeight);a.style.fontSize=r/3.5+"px",a.addEventListener("mouseenter",e),a.addEventListener("touchstart",e),a.addEventListener("mousemove",t),a.addEventListener("touchmove",t),a.addEventListener("mouseleave",n),a.addEventListener("touchend",n),a.addEventListener("touchcancel",n)})),window.addEventListener("resize",(function(){document.querySelectorAll(".apple-tv-card").forEach((e=>{const t=Math.max(e.clientWidth,e.clientHeight);e.style.fontSize=t/3.5+"px"}))}))}()})();