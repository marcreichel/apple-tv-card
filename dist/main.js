(()=>{"use strict";!function(){function e(e){e.preventDefault();let n=e.target.closest(".apple-tv-card");n.classList.add("hover");const r=window.matchMedia("(prefers-reduced-motion: reduce)");if(!n.querySelector(".reflection")&&r&&!r.matches){const e=document.createElement("span");e.classList.add("reflection"),n.prepend(e)}let a,s;if("touchmove"===e.type||"touchstart"===e.type){const r=e.touches[0],o=n.getBoundingClientRect();a=r.pageX-o.left,s=r.pageY-o.top;const l=document.elementFromPoint(r.pageX,r.pageY);if(!l||n!==l.closest(".apple-tv-card"))return void t(e)}else a=e.offsetX,s=e.offsetY;const o=n.clientWidth,l=n.clientHeight,c=(o/2-a)/o*10,d=-1*(l/2-s)/l*10,i=-1*(o/2-a)/o*10,p=-1*(l/2-s)/l*10,u=Math.max(o,l),m=n.closest(".apple-tv-card-container");m&&(m.style.perspective=2.5*u+"px"),r&&!r.matches&&(n.style.transform="translateZ(4rem) rotateY("+c+"deg) rotateX("+d+"deg) translateX("+i+"px) translateY("+p+"px)");const f=n.querySelector(".parallax-content");f&&r&&!r.matches&&(f.style.transform="translateX("+-.65*i+"px) translateY("+-.65*p+"px)");const v=n.querySelector(".reflection");v&&r&&!r.matches&&(v.style.width=1.5*u+"px",v.style.height=1.5*u+"px",v.style.margin=-.75*u+"px 0 0 "+-.75*u+"px",v.style.transform="translateY("+(s-l/2)+"px) translateX("+(.1*o+.8*a)+"px)")}function t(e){let t=e.target.closest(".apple-tv-card");t.classList.remove("hover"),t.style.transform=null;const n=t.querySelector(".parallax-content");n&&(n.style.transform=null);const r=t.querySelector(".reflection");r&&(r.style.transform=null)}document.querySelectorAll(".apple-tv-card").forEach((n=>{n.addEventListener("mouseenter",e),n.addEventListener("touchstart",e),n.addEventListener("mousemove",e),n.addEventListener("touchmove",e),n.addEventListener("mouseleave",t),n.addEventListener("touchend",t),n.addEventListener("touchcancel",t)}))}()})();